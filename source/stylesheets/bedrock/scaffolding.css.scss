// -----------------------------------------------------------------------------
// â€¢ Scaffolding                                    Tyom Semonov <mail@tyom.net>
// -----------------------------------------------------------------------------
// .container       - outer columns container (centers within the containing element)
// .container .row  - inner columns container

// .column-borders    - show borders between columns (set on container containing .column(s))
// .column, .columns  - use for individual columns. (.one, .two, .three, ... .twenty-four to span columns)

// .column.last       - treat as last column in the row, float right
// .column.end        - treat as end column, float left as the previous columns
// .column.centered   - centre column

// .flush-right       - flush element to right
// .flush-left        - flush element to left

// .<one>-from-left   - offset column by (one, two, three, ... twenty-four) column spans

// .show-grid         - show grid guide (useful for debugging and layout building)
// -----------------------------------------------------------------------------

@import "bedrock/grid";

$number-words: one,two,three,four,five,six,seven,eight,nine,ten,eleven,twelve,
              thirteen,fourteen,fifteen,sixteen,seventeen,eighteen,nineteen,
              twenty,twentyone,twentytwo,twentythree,twentyfour;

// Rows
.container {
  @include grid-container;
  .row {
    @include grid-row;
  }
  .flexible, .flexible .row {
    min-width: 0;
    @include grid-row(flexible);
  }
}

// Show grid on .container if enabled
@if $grid-guides {
  .container {
    @extend .show-grid;
    .row:before {
      display: none;
    }
  }
}

// Borders
.column-borders {
  @include grid-column-borders($grid-gutter-medium);

  @include large-screen {
    @include grid-column-borders($grid-gutter-large);
  }

  .no-borders {
    margin: {
      left: 0;
      right: 0;
    };

    :before, :after {
      border: 0;
    }
  }
}


// Columns
.col {
  @include grid-column;
}

// Centred column
.col.centered, .col.centered:last-child {
  @include grid-column(centered);
}

// Last column
.col:last-child, .col.last {
  @include grid-column(last);
}

// Ending column (follows others)
.col.end {
  @include grid-column(end);
}

// Columns in the inner row
.row .col {
  @include grid-column-margins(inner);
}
.flexible .col {
  @include grid-column-margins(flexible);
}
.collapse .col, .container > .col {
  @include grid-column-margins(flexible, 0);
}

// Column sizes
@for $i from 1 through length($number-words) {
  .#{nth($number-words, $i)} {
    @if $grid-type == pixel {
      @include grid-column-width($i);
    } @else {
      @include grid-column-width-flexi($i);
    }
  }
  // Ad hoc flexible grid
  .flexible .#{nth($number-words, $i)} {
    @include grid-column-width-flexi($i, false);
  }
  .flexible.collapse .#{nth($number-words, $i)}, .container > .#{nth($number-words, $i)} {
    @include grid-column-width-flexi($i, true);
  }
}


// Offsets:
// - Left
@for $i from 1 through $grid-total-columns {
  .row .col.#{nth($number-words, $i)}-from-left,
  .row .col.#{nth($number-words, $i)}-from-left.end {
    @include grid-offset-by-column($i, left);
  }
}
// - Right (attribute selector to override other class modifiers, such as .last)
@for $i from 1 through $grid-total-columns {
  .row .col.#{nth($number-words, $i)}-from-right,
  .row .col.#{nth($number-words, $i)}-from-right.end,
  .row .col.#{nth($number-words, $i)}-from-right.last {
    @include grid-offset-by-column($i, right);
  }
}

// Grid debugging
.show-grid {
  @include grid-show-guides($grid-medium);

  @include large-screen {
    @include grid-show-guides($grid-large);
  }
  &.front:before {
    z-index: auto;
  }
}
